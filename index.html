<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADS Garden</title>
    <link rel="stylesheet" href="Style.css">
</head>
<body>

<div id="sidebar">
    <h3 style="text-align:center;">ADS <a style="color:var(--accent-color);">Garden</a></h3>
    
    <div class="ctrl-group">
        <label>Visual Style</label>
        <select id="theme-sel" onchange="updateTheme()">
            <option value="#ffe4e1|#8b0000">Rose &amp; Ruby (Misty Rose/Dark Red)</option>
            <option value="#00ff00|#ff00ff">Matrix (Green/Pink)</option>
            <option value="#00ffff|#ffff00">Cyber (Cyan/Yellow)</option>
            <option value="#ffb000|#00ffff">Amber (CRT/Cyan)</option>
            <option value="#ff0000|#ffffff">Alert (Red/White)</option>
            <option value="#ffffff|#000000">Classic (White/Black)</option>
            <option value="#ff69b4|#8a2be2">Vaporwave (Pink/Purple)</option>
            <option value="#ffa500|#008000">Retro (Orange/Green)</option>
            <option value="#ffffff|#ff00ff">Neon (White/Magenta )</option>
            <option value="#add8e6|#00008b">Ocean (Light/Dark Blue)</option>
            <option value="#ff1493|#4b0082">Cosmic (Deep Pink/Indigo)</option>
            <option value="#deb887|#556b2f">Earth (Beige/Olive)</option>
            <option value="#d3d3d3|#2f4f4f">Mono (Light/Dark Gray)</option>
            <option value="#ff4500|#2e8b57">Fire &amp; Forest (Orange/Green)</option>
            <option value="#f0e68c|#8b4513">Desert (Khaki/Brown)</option>
            <option value="#e6e6fa|#4b0082">Lavender (Lavender/Indigo)</option>
            <option value="#f5f5dc|#556b2f">Sand &amp; Sage (Beige/Olive)</option>
            <option value="#ffe4b5|#8b4513">Sunrise (Moccasin/Brown)</option>
            <option value="#f0ffff|#00008b">Ice &amp; Night (Azure/Dark Blue)</option>
        </select>
    </div>

    <div class="node-tool" draggable="true" ondragstart="startDrag(event, 'INPUT')">INPUT NODE</div>
    <div class="node-tool" draggable="true" ondragstart="startDrag(event, 'THRESHOLD')">THRESHOLD NODE</div>
    <div class="node-tool" draggable="true" ondragstart="startDrag(event, 'COMPETITIVE')">COMP NODE</div>
    <div class="node-tool" draggable="true" ondragstart="startDrag(event, 'OUTPUT')">OUTPUT NODE</div>
    <hr style="border:0.5px solid var(--main-color); width:100%">
    <button onclick="saveNetwork()">MANUAL SAVE</button>
    <button onclick="loadNetwork()">RELOAD LAST</button>
    <button onclick="downloadBlueprint()">DOWNLOAD BLUEPRINT</button>
    <input type="file" id="fileInput" style="display:none" onchange="uploadBlueprint(event)">
    <button onclick="document.getElementById('fileInput').click()">UPLOAD BLUEPRINT</button>
    <button onclick="resetData()">RESET DATA</button>
    <button onclick="wipeAll()" class="altbutton">WIPE WORKSPACE</button>
    
    <div class="disclaimer">
        <b>System Status:</b><br>
         O<small>w</small>O Made to test rules for the ADS and play around<br>
        have fun XD
    </div>
</div>

<div id="workspace" ondrop="dropNode(event)" ondragover="event.preventDefault()">
    <canvas id="gridCanvas"></canvas>
    
    <div id="inspector" onclick="event.stopPropagation()">
        <h4 id="ins-type" style="margin-top:0">NODE CONFIG</h4>
        
        <div class="ctrl-group">
            <label>Logic Strictness</label>
            <select id="ins-strict" onchange="updateIns()">
                <option value="0">Strict (Precise)</option>
                <option value="0.5">Lax (±0.5)</option>
                <option value="1.5">Permissive (±1.5)</option>
            </select>
        </div>

        <div id="input-ctrl" class="ctrl-group">
            <label>Signal Strength:</label>
            <input type="range" id="ins-val" min="0" max="10" step="0.1" oninput="updateIns()">
            <span id="ins-val-txt">0</span>
        </div>
        <div id="threshold-ctrl" class="ctrl-group">
            <label>Logic Operator:</label>
            <select id="ins-logic" onchange="updateIns()">
                <option value="GT">Greater Than (> T)</option>
                <option value="LT">Less Than (< T)</option>
                <option value="EQ">Near Equal (≈ T)</option>
            </select>
            <label style="margin-top:10px; display:block">Threshold (T):</label>
            <input type="range" id="ins-thresh" min="0" max="10" step="0.1" oninput="updateIns()">
            <span id="ins-thresh-txt">0</span>
        </div>
        <div id="comp-ctrl" class="ctrl-group">
            <label>Mode:</label>
            <select id="ins-op" onchange="updateIns()">
                <option value="MAX">MAX</option>
                <option value="MIN">MIN</option>
                <option value="AVG">AVG</option>
                <option value="SUM">SUM</option>
                <option value="INV">INV</option>
            </select>
        </div>
        <div class="ctrl-group">
            <label>Score:</label>
            <input type="number" id="ins-score" min="0" max="100" step="0.1" oninput="updateIns()">
        </div>
        <div class="ctrl-group">
            <label>Background Color:</label>
            <input type="color" id="ins-bgcolor" oninput="updateIns()">
        </div>
        <button  onclick="openSpectrum()" >DATA SAMPLE SPACE</button>
        <button class = "altbutton"onclick="closeInspector()" >HIDE CONFIG</button>
    </div>
</div>

<div id="spectrum-overlay" onclick="event.stopPropagation()">
    <div id="dim-header" class="dim-header">SPACE OVERLAY: IDLE</div>
    <div class="viz-container">
        <canvas id="viz-canvas"></canvas>
    </div>
    <div id="overlay-footer">
        <button class="close-spec-btn" onclick="closeSpectrum()">CLOSE SPACE</button>
    </div>
</div>

<div id="tooltip" style="position:absolute; background:var(--bg-color); color:var(--accent-color); padding:5px; border:1px solid var(--main-color); display:none; pointer-events:none; z-index:400;"></div>

<script src="Logic.js"></script>
</body>
</html>
